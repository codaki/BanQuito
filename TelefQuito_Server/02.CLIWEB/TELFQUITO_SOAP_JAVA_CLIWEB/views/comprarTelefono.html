<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <title>Comprar Teléfono</title>
  </head>
  <body class="login-body">
    <div class="login-container">
      <div class="login-card">
        <img src="/images/oozma.png" alt="Logo" class="logo" />
        <h2 id="form-title">Comprar Teléfono</h2>
        <form id="compraForm">
          <input type="hidden" id="telefonoId" />
          <select id="tipoCompra" required>
            <option value="" disabled selected>
              Seleccione tipo de compra
            </option>
            <option value="efectivo">Efectivo</option>
            <option value="credito">Crédito</option>
          </select>
          <div id="compraEfectivo" class="compra-opcion hidden">
            <input type="text" id="cedula" placeholder="Cédula" />
            <div id="descuentoInfo">
              <p>
                <strong>Precio Original:</strong> $<span
                  id="precioOriginal"
                ></span>
              </p>
              <p>
                <strong>Descuento (42%):</strong> $<span id="descuento"></span>
              </p>
              <p>
                <strong>Precio Final:</strong> $<span id="precioFinal"></span>
              </p>
            </div>
          </div>
          <div id="compraCredito" class="compra-opcion hidden">
            <input type="number" id="plazoMeses" placeholder="Plazo en meses" />
            <input type="text" id="cedulaCredito" placeholder="Cédula" />
          </div>
          <div id="telefonoInfo">
            <p><strong>Nombre:</strong> <span id="nombre"></span></p>
            <p><strong>Precio:</strong> $<span id="precio"></span></p>
            <p><strong>Marca:</strong> <span id="marca"></span></p>
          </div>
          <button type="submit" class="btn-primary" id="submitButton">
            Comprar
          </button>
        </form>
      </div>
    </div>
    <div id="modal-container"></div>
    <!-- Container for modal -->
    <script>
      fetch("/modal.html")
        .then((response) => response.text())
        .then((html) => {
          document.getElementById("modal-container").innerHTML = html;
          const modalOkButton = document.getElementById("modal-ok-button");
          if (modalOkButton) {
            modalOkButton.addEventListener("click", closeModal);
          }
        });
    </script>
    <script type="module" src="/controller/modal.js"></script>
    <script type="module" src="/controller/comprarController.js"></script>
  </body>
</html>
